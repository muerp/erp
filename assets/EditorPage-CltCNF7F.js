import{z as Z,d as L,r as z,b as i,o as d,c as j,a as e,w as t,F as M,m as N,s as _,i as y,t as R,v as I,k as T,A as H,B as G,l as F,C as Y,q as o,D as X,p as U,G as K,g as P,y as J,f as Q,h as A,H as ee}from"./index-BRHzmHxl.js";import{_ as te,b as le,g as oe,m as ne,c as O}from"./TableItem.vue_vue_type_style_index_0_lang-DB_vDJB8.js";import{t as se,b as ae,c as de,d as ce,B as S,a as ie,S as re,L as ue}from"./useNavStore-GTwGcYnb.js";const h=Z({searchs:se,trees:ae,buttons:de,tables:ce}),pe=(b,l)=>{if(!h.searchs)return;const n=~~l.index+(l.position==="left"?0:1),r=~~b.index;r!==n&&(console.log("updateSearchSort--",r,n),h.searchs.splice(r,1),n>=r?h.searchs.splice(n-1,0,b.item):h.searchs.splice(n,0,b.item))},_e=b=>{console.log("-updateSearchProperty--",b)},me={key:0},fe={key:0},he=L({__name:"AddButtons",setup(b){const l=z(),n=z(!1),r=a=>{a.type>=60?l.value[0].handleOpen():a.type===ie.add&&(n.value=!0)},s=a=>{a.disabled=!a.disabled};return(a,u)=>{const v=i("svg-icon"),m=i("el-button"),f=i("el-tooltip"),c=i("el-checkbox"),g=i("el-dropdown-item"),p=i("el-dropdown-menu"),V=i("el-dropdown"),w=i("el-row");return d(),j(M,null,[e(w,{class:"add-buttons"},{default:t(()=>[(d(!0),j(M,null,N(_(h).buttons,(x,k)=>(d(),j("div",{key:k},[x.type<60?(d(),y(f,{key:0,content:_(S)[x.type].tip,disabled:!_(S)[x.type].tip},{default:t(()=>[e(m,{type:_(S)[x.type].type,circle:!_(S)[x.type].label,plain:!!_(S)[x.type].label,onClick:E=>r(x)},{default:t(()=>[e(v,{icon:_(S)[x.type].icon},null,8,["icon"]),_(S)[x.type].label?(d(),j("span",me,R(_(S)[x.type].label),1)):I("",!0)]),_:2},1032,["type","circle","plain","onClick"])]),_:2},1032,["content","disabled"])):(d(),y(V,{key:1,ref_for:!0,ref_key:"dropdown",ref:l,"hide-on-click":!1,trigger:"click",style:{"margin-right":"30px"}},{dropdown:t(()=>[e(p,null,{default:t(()=>[(d(!0),j(M,null,N(_(h).tables.headers,(E,B)=>(d(),y(g,{key:B,onClick:C=>s(E)},{default:t(()=>[e(c,{checked:!E.disabled,label:E.label},null,8,["checked","label"])]),_:2},1032,["onClick"]))),128))]),_:2},1024)]),default:t(()=>[e(m,{type:_(S)[x.type].type,circle:!_(S)[x.type].label,plain:!!_(S)[x.type].label,onClick:E=>r(x)},{default:t(()=>[e(v,{icon:_(S)[x.type].icon},null,8,["icon"]),_(S)[x.type].label?(d(),j("span",fe,R(_(S)[x.type].label),1)):I("",!0)]),_:2},1032,["type","circle","plain","onClick"])]),_:2},1536))]))),128))]),_:1}),e(te,{modelValue:n.value,"onUpdate:modelValue":u[0]||(u[0]=x=>n.value=x)},null,8,["modelValue"])],64)}}}),W=b=>{const l=z(null);let n=0,r=0,s=!1;const a=()=>{document.body.style.overflow="hidden"},u=()=>{document.body.style.overflow="auto"},v=()=>{s=!0,a()},m=()=>{s=!1,u(),setTimeout(()=>{l.value&&(l.value.style.pointerEvents="auto")},100)},f=p=>{requestAnimationFrame(()=>{if(s&&l.value){const V="touches"in p?p.touches[0].clientX:p.clientX,w="touches"in p?p.touches[0].clientY:p.clientY;p.stopPropagation(),p.preventDefault(),l.value.style.pointerEvents="none",b("drag-move",{offsetX:V,offsetY:w,e:p})}})},c=p=>{s&&b("drag-end",{e:p}),m(),document.removeEventListener("touchmove",f),document.removeEventListener("mousemove",f)},g=p=>{l.value&&(n="touches"in p?p.touches[0].clientX-l.value.offsetLeft:p.clientX-l.value.offsetLeft,r="touches"in p?p.touches[0].clientY-l.value.offsetTop:p.clientY-l.value.offsetTop,v(),document.addEventListener("mousemove",f,{passive:!1}),document.addEventListener("touchmove",f,{passive:!1}),document.addEventListener("mouseup",c),document.addEventListener("touchend",c),p.stopPropagation(),b("drag-start",{offsetX:n,offsetY:r,e:p}))};return T(()=>{l.value&&(l.value.addEventListener("mousedown",g),l.value.addEventListener("touchstart",g))}),H(()=>{l.value&&(l.value.removeEventListener("mousedown",g),l.value.removeEventListener("touchstart",g)),document.removeEventListener("mouseup",c),document.removeEventListener("touchend",c)}),l},ve=L({__name:"DragFrame",props:{width:{type:String,default:""},index:{type:[Number,String],default:0},item:{type:Object,require:!0},activeItem:{type:Object,default:void 0},checkFrame:{type:Boolean,default:!1}},emits:["update:width","update:activeItem","drag-end","change-width"],setup(b,{emit:l}){const n=b,r=G("fromList"),s=l,a=z();H(()=>{delete r.value[n.index]}),F(()=>n.index,(c,g)=>{c!==g&&r.value[g]&&(r.value[c]=r.value[g],delete r.value[g])});const u=W((c,g)=>{if(c==="drag-start")a.value=void 0;else if(c==="drag-end")a.value=void 0,s("drag-end",{item:n.item,index:n.index}),s("update:activeItem");else{a.value={x:g.offsetX,y:g.offsetY};const p=Object.keys(r.value);for(let V=0;V<p.length;++V){const w=p[V],x=r.value[w],k=x.el.getBoundingClientRect(),E=g.offsetX-k.left,B=g.offsetY-k.top;if(!(B<0||B>k.height))if(E>=0&&E<=k.width*.5){s("update:activeItem",{item:x.item,position:"left",index:w});break}else if(E>=0&&E<=k.width){s("update:activeItem",{item:x.item,position:"right",index:w});break}else s("update:activeItem")}}}),v=c=>{n.checkFrame&&(u.value=c,r.value[n.index]={el:c,index:n.index,item:n.item})};let m=0;const f=W((c,g)=>{if(c==="drag-start")m=n.item.width;else if(c==="drag-move"){const p=u.value.getBoundingClientRect(),V=u.value.parentNode.getBoundingClientRect();let w=g.offsetX-p.left;w=w<100?100:w,s("update:width",~~(w/V.width*100).toFixed(2))}else c==="drag-end"&&m!==n.item.width&&s("change-width")});return(c,g)=>(d(),j("div",{class:U(["drag-frame pos-relative",b.activeItem&&b.activeItem.index===b.index?"frame-to-"+b.activeItem.position:""]),ref:v,style:X({width:b.width?b.width+"%":""})},[Y(c.$slots,"default"),o("div",{class:"df-right-line",ref_key:"dragRight",ref:f},null,512),a.value?(d(),j("div",{key:0,class:"drag-frame-dialog",style:X({left:a.value.x+10+"px",top:a.value.y+5+"px"})},[Y(c.$slots,"default")],4)):I("",!0)],6))}}),ge=L({__name:"AddSearch",setup(b){const l=z([]),n=z({});K("fromList",n);const r=z();F(()=>h.searchs,()=>{l.value=h.searchs.map(()=>"")});const s=(m,f)=>{f.type>=99||(h.curEditorItem&&(h.curEditorItem.data.active=!1),h.curEditorItem={data:f,type:"search"},h.curEditorItem.data.active=!0)},a=m=>{m&&r.value&&pe(m,r.value)},u=m=>{_e(m)},v=()=>{l.value=[]};return(m,f)=>{const c=i("el-input"),g=i("el-option"),p=i("el-select"),V=i("el-date-picker"),w=i("svg-icon"),x=i("el-button"),k=i("el-form-item"),E=i("el-row"),B=i("el-form");return d(),y(E,{class:"add-search"},{default:t(()=>[e(B,{model:l.value},{default:t(()=>[e(E,null,{default:t(()=>[(d(!0),j(M,null,N(_(h).searchs,(C,D)=>(d(),y(ve,{key:D,item:C,"active-item":r.value,"onUpdate:activeItem":f[0]||(f[0]=$=>r.value=$),index:D.toString(),width:C.width,"onUpdate:width":$=>C.width=$,class:U({active:C.active}),"check-frame":C.type<99,onClick:$=>s($,C),onDragEnd:a,onChangeWidth:$=>u(C)},{default:t(()=>[e(k,{label:C.label},{default:t(()=>[C.type===1?(d(),y(c,{key:0,readonly:!0,modelValue:l.value[D],"onUpdate:modelValue":$=>l.value[D]=$,placeholder:C.placeholder},null,8,["modelValue","onUpdate:modelValue","placeholder"])):C.type===2?(d(),y(p,{key:1,modelValue:l.value[D],"onUpdate:modelValue":$=>l.value[D]=$,placeholder:C.placeholder},{default:t(()=>[(d(!0),j(M,null,N(C.menus,$=>(d(),y(g,{key:$.value,label:$.label,value:$.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder"])):C.type===3?(d(),y(V,{key:2,disabled:!0,modelValue:l.value[D],"onUpdate:modelValue":$=>l.value[D]=$,type:"date",placeholder:"选择日期",clearable:""},null,8,["modelValue","onUpdate:modelValue"])):C.type===4?(d(),y(V,{key:3,modelValue:l.value[D],"onUpdate:modelValue":$=>l.value[D]=$,disabled:!0,type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},null,8,["modelValue","onUpdate:modelValue"])):C.type===99?(d(),y(x,{key:4,class:"search-btn",type:"primary"},{default:t(()=>[e(w,{icon:"search"}),P(" 搜索 ")]),_:1})):C.type===100?(d(),y(x,{key:5,class:"search-btn",type:"primary",onClick:v},{default:t(()=>[e(w,{icon:"reset"}),P(" 重置 ")]),_:1})):I("",!0)]),_:2},1032,["label"])]),_:2},1032,["item","active-item","index","width","onUpdate:width","class","check-frame","onClick","onChangeWidth"]))),128))]),_:1})]),_:1},8,["model"])]),_:1})}}}),be={class:"add-table flex-1 mt-2"},xe={key:0,class:"table-pagination"},ye=L({__name:"AddTable",setup(b){const l=J(()=>h.tables.headers.filter(v=>!v.disabled)),n=z([]),r=z(1),s=z(20);F(()=>h.tables,()=>{}),T(()=>{});const a=()=>{},u=()=>{};return(v,m)=>{const f=i("el-table-column"),c=i("el-table"),g=i("el-pagination");return d(),j("div",be,[e(c,{data:n.value,style:{width:"100%"},border:""},{default:t(()=>[_(h).tables.select?(d(),y(f,{key:0,type:"selection",width:"55",align:"center"})):I("",!0),(d(!0),j(M,null,N(l.value,p=>(d(),y(f,{prop:p.key,label:p.label,key:p.key,align:"center",width:p.width},{default:t(V=>[e(le,{data:V.row,header:p,config:_(h).tables},null,8,["data","header","config"])]),_:2},1032,["prop","label","width"]))),128))]),_:1},8,["data"]),n.value.length>0?(d(),j("div",xe,[e(g,{"current-page":r.value,"onUpdate:currentPage":m[0]||(m[0]=p=>r.value=p),"page-size":s.value,"onUpdate:pageSize":m[1]||(m[1]=p=>s.value=p),background:!0,layout:"prev, pager, next, jumper",total:1e3,onSizeChange:a,onCurrentChange:u},null,8,["current-page","page-size"])])):I("",!0)])}}}),we=L({__name:"AddNav",setup(b){const l={children:"children",label:"label"},n=z([]);T(()=>{h.trees&&(n.value=h.trees.map(s=>s.id))});const r=()=>{};return(s,a)=>{const u=i("el-tree"),v=i("mu-dragable");return d(),y(v,{class:"add-tree","init-width":200,"min-width":120},{default:t(()=>[e(u,{data:_(h).trees,props:l,"node-key":"id","default-expanded-keys":n.value,onNodeClick:r,"empty-text":"数据为空"},null,8,["data","default-expanded-keys"])]),_:1})}}}),ke={class:"flex-1"},je=o("div",{class:"pl-1 pt-1"},"属性",-1),ze={key:0},Ve=L({__name:"Property",setup(b){const l=z({});F(()=>h.curEditorItem,()=>{console.log("-curEditorItem---",h.curEditorItem)});const n=({sourceIndex:a,targetIndex:u,item:v,position:m},f)=>{f.splice(a,1);let c=u+(m==="top"?0:1);c=u<=a?c-1:c,f.splice(c,0,v)},r=a=>{a.push({label:"",value:""})},s=(a,u)=>{a.splice(u,1)};return(a,u)=>{const v=i("el-input"),m=i("el-form-item"),f=i("el-slider"),c=i("svg-icon"),g=i("el-button"),p=i("mu-tree"),V=i("el-scrollbar"),w=i("mu-dragable"),x=i("el-form");return d(),j("div",ke,[je,_(h).curEditorItem&&_(h).curEditorItem.type==="search"?(d(),j("div",ze,[e(x,{model:l.value},{default:t(()=>[e(m,{label:"标签"},{default:t(()=>[e(v,{modelValue:_(h).curEditorItem.data.label,"onUpdate:modelValue":u[0]||(u[0]=k=>_(h).curEditorItem.data.label=k),placeholder:"搜索标签"},null,8,["modelValue"])]),_:1}),e(m,{label:"宽度"},{default:t(()=>[e(f,{min:20,max:100,modelValue:_(h).curEditorItem.data.width,"onUpdate:modelValue":u[1]||(u[1]=k=>_(h).curEditorItem.data.width=k),"show-input":"",size:"small"},null,8,["modelValue"])]),_:1}),_(h).curEditorItem.data.type===_(re).select?(d(),y(m,{key:0,class:"select-menus",label:"选择菜单"},{default:t(()=>[e(w,{class:"flex-1 state-list",direction:"bottom",initHeight:200},{default:t(()=>[e(g,{text:"",class:"menu-add pos-absolute",onClick:u[2]||(u[2]=k=>r(_(h).curEditorItem.data.menus))},{default:t(()=>[e(c,{icon:"add"})]),_:1}),e(V,null,{default:t(()=>[e(p,{list:_(h).curEditorItem.data.menus,"disabled-center":!0,onNodeMove:u[3]||(u[3]=k=>n(k,_(h).curEditorItem.data.menus))},{default:t(({data:k,index:E})=>[e(m,{label:"标签"},{default:t(()=>[e(v,{modelValue:k.label,"onUpdate:modelValue":B=>k.label=B,placeholder:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(m,{label:"状态"},{default:t(()=>[e(v,{modelValue:k.value,"onUpdate:modelValue":B=>k.value=B,placeholder:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(g,{text:"",onClick:B=>s(_(h).curEditorItem.data.menus,E)},{default:t(()=>[e(c,{icon:"trash"})]),_:2},1032,["onClick"])]),"drag-icon":t(()=>[e(c,{class:"drag-icon",icon:"drag"})]),_:1},8,["list"])]),_:1})]),_:1})]),_:1})):I("",!0)]),_:1},8,["model"])])):I("",!0)])}}}),Ce={class:"flex-1 mu-element"},$e=o("div",{class:"pl-1 pt-1"},"模块",-1),Ee={class:"pl-1 pt-1"},Ie=o("span",{class:"zj-box1"},null,-1),Se=o("span",{class:"zj-box1",style:{"margin-left":"12px"}},null,-1),Ue=o("span",{class:"zj-box1",style:{"margin-left":"12px"}},null,-1),Le=o("span",{class:"zj-box1"},null,-1),Be=o("span",{class:"zj-box1",style:{"margin-left":"12px"}},null,-1),De=o("span",{class:"zj-box1",style:{"margin-left":"12px"}},null,-1),Pe=o("div",{class:"flex-1 zj-exp"},"左侧为树结构，用于过滤，默认显示",-1),Me=o("span",{class:"zj-box1",style:{width:"30px"}},null,-1),Ne=o("span",{class:"zj-box1",style:{"margin-left":"6px",width:"30px"}},null,-1),Te=o("span",{class:"zj-box1",style:{"margin-left":"6px",width:"32px"}},null,-1),Fe=o("span",{class:"zj-box1",style:{width:"38px"}},null,-1),Re=o("span",{class:"zj-box1",style:{"margin-left":"6px",width:"60px"}},null,-1),Xe=o("span",{class:"zj-box1",style:{width:"60px"}},null,-1),Ye=o("span",{class:"zj-box1",style:{"margin-left":"6px",width:"38px"}},null,-1),Ae=o("span",{class:"zj-box1",style:{width:"20px"}},null,-1),Oe=o("span",{class:"zj-box1",style:{"margin-left":"6px",width:"20px"}},null,-1),We=o("div",{class:"flex-1 zj-exp"}," 搜索模块，可以自定义搜索类型，搜索参数，拖动可以交换位置，选中后可以设置属性参数。 ",-1),qe=o("span",{class:"zj-box1",style:{width:"30px"}},null,-1),He=o("span",{class:"zj-box1",style:{"margin-left":"6px",width:"30px"}},null,-1),Ge=o("span",{class:"zj-box1",style:{"margin-left":"6px",width:"32px"}},null,-1),Ke=o("span",{class:"zj-box1",style:{width:"38px"}},null,-1),Ze=o("span",{class:"zj-box1",style:{"margin-left":"6px",width:"60px"}},null,-1),Je=o("span",{class:"zj-box1",style:{width:"60px"}},null,-1),Qe=o("span",{class:"zj-box1",style:{"margin-left":"6px",width:"38px"}},null,-1),et=o("span",{class:"zj-box1",style:{width:"20px"}},null,-1),tt=o("span",{class:"zj-box1",style:{"margin-left":"6px",width:"20px"}},null,-1),lt=o("div",{class:"flex-1 zj-exp"}," 用于新增、删除、导入、导出、搜索、刷新、列隐藏等功能、可自行选择添加功能 ",-1),ot={class:"zj-item d-flex overflow-hidden mt-2 active"},nt=o("span",{class:"zj-box1",style:{width:"30px"}},null,-1),st=o("span",{class:"zj-box1",style:{"margin-left":"6px",width:"30px"}},null,-1),at=o("span",{class:"zj-box1",style:{"margin-left":"6px",width:"32px"}},null,-1),dt=o("span",{class:"zj-box1",style:{width:"30px"}},null,-1),ct=o("span",{class:"zj-box1",style:{"margin-left":"6px",width:"30px"}},null,-1),it=o("span",{class:"zj-box1",style:{"margin-left":"6px",width:"32px"}},null,-1),rt=o("span",{class:"zj-box1",style:{width:"30px"}},null,-1),ut=o("span",{class:"zj-box1",style:{"margin-left":"6px",width:"30px"}},null,-1),pt=o("span",{class:"zj-box1",style:{"margin-left":"6px",width:"32px"}},null,-1),_t=o("span",{class:"zj-box1",style:{width:"30px"}},null,-1),mt=o("span",{class:"zj-box1",style:{"margin-left":"6px",width:"30px"}},null,-1),ft=o("span",{class:"zj-box1",style:{"margin-left":"6px",width:"32px"}},null,-1),ht=o("span",{class:"zj-box1",style:{width:"30px"}},null,-1),vt=o("span",{class:"zj-box1",style:{"margin-left":"6px",width:"30px"}},null,-1),gt=o("span",{class:"zj-box1",style:{"margin-left":"6px",width:"32px"}},null,-1),bt=o("div",{class:"flex-1 zj-exp"}," 表格数据，可自定义表格显示列类型、列操作按钮，自动生成json格式文档，接口根据该数据返回即可 ",-1),xt=L({__name:"Zujian",setup(b){const l=G("elementInfo"),n=r=>{l.value[r]=!l.value[r]};return(r,s)=>{const a=i("el-card"),u=i("svg-icon"),v=i("el-row");return d(),j("div",Ce,[$e,o("div",Ee,[o("div",{class:U(["zj-item d-flex overflow-hidden mt-2",{active:_(l).tree}])},[e(a,{class:"zj-box",shadow:"always",onClick:s[0]||(s[0]=m=>n("tree"))},{header:t(()=>[P("左侧树")]),default:t(()=>[Ie,Se,Ue,Le,Be,De]),_:1}),Pe],2),o("div",{class:U(["zj-item d-flex overflow-hidden mt-2",{active:_(l).search}])},[e(a,{class:"zj-box",shadow:"always",onClick:s[1]||(s[1]=m=>n("search"))},{header:t(()=>[P("搜索模块")]),default:t(()=>[e(v,{class:"w-full"},{default:t(()=>[Me,Ne,Te,Fe,Re,Xe,Ye,Ae,Oe,e(u,{icon:"search"})]),_:1})]),_:1}),We],2),o("div",{class:U(["zj-item d-flex overflow-hidden mt-2",{active:_(l).button}])},[e(a,{class:"zj-box",shadow:"always",onClick:s[2]||(s[2]=m=>n("button"))},{header:t(()=>[P("按钮组合")]),default:t(()=>[e(v,{class:"w-full"},{default:t(()=>[qe,He,Ge,Ke,Ze,Je,Qe,et,tt]),_:1})]),_:1}),lt],2),o("div",ot,[e(a,{class:"zj-box",shadow:"always"},{header:t(()=>[P("表格")]),default:t(()=>[e(v,{class:"w-full"},{default:t(()=>[nt,st,at,dt,ct,it,rt,ut,pt,_t,mt,ft,ht,vt,gt]),_:1})]),_:1}),bt])])])}}}),yt={class:"property-nav"},wt=L({__name:"PropertyDashboard",setup(b){const l=z(1),n=r=>{l.value=r};return(r,s)=>{const a=i("svg-icon"),u=i("el-button"),v=i("el-tooltip"),m=i("mu-dragable");return d(),y(m,{class:"property-dashboard d-flex",direction:"left","init-width":400,"min-width":400},{default:t(()=>[o("div",yt,[e(v,{content:"组件",placement:"left"},{default:t(()=>[e(u,{text:"",class:U({active:l.value===0}),onClick:s[0]||(s[0]=f=>n(0))},{default:t(()=>[e(a,{icon:"buju"})]),_:1},8,["class"])]),_:1}),e(v,{content:"属性",placement:"left"},{default:t(()=>[e(u,{text:"",class:U({active:l.value===1}),onClick:s[1]||(s[1]=f=>n(1))},{default:t(()=>[e(a,{icon:"props"})]),_:1},8,["class"])]),_:1}),e(v,{content:"数据",placement:"left"},{default:t(()=>[e(u,{text:"",class:U({active:l.value===2}),onClick:s[2]||(s[2]=f=>n(2))},{default:t(()=>[e(a,{icon:"json"})]),_:1},8,["class"])]),_:1}),e(v,{content:"代码",placement:"left"},{default:t(()=>[e(u,{text:"",class:U({active:l.value===3}),onClick:s[3]||(s[3]=f=>n(3))},{default:t(()=>[e(a,{icon:"net"})]),_:1},8,["class"])]),_:1})]),l.value===0?(d(),y(xt,{key:0})):I("",!0),l.value===1?(d(),y(Ve,{key:1})):I("",!0)]),_:1})}}}),q=L({__name:"SidebarIcon",props:{modelValue:{type:Boolean,default:!1},direction:{type:String,default:"left"}},emits:["update:modelValue"],setup(b,{emit:l}){const n=b,r=l,s=()=>{r("update:modelValue",!n.modelValue)};return(a,u)=>(d(),j("div",{class:U(["sidebar-icon",["sidebar-"+b.direction,{active:b.modelValue}]]),onClick:s},null,2))}}),kt={class:"flex-1 overflow-hidden d-column pt-1 pl-1 pr-1"},jt=L({__name:"EditorContent",emits:["change-sidebar"],setup(b,{emit:l}){const n=l,r=z(!0),s=z({tree:!1,search:!0,button:!0,table:!0});K("elementInfo",s);const a=z(!0),u=z(!0),v=()=>{n("change-sidebar",a.value)};return(m,f)=>{const c=i("el-row");return d(),j("div",{class:U(["flex-1 editor-inner d-column overflow-hidden",{"full-screen":r.value}])},[e(c,{class:"editor-header align-center",justify:"space-between"},{default:t(()=>[e(c,{class:"align-center"},{default:t(()=>[e(q,{modelValue:a.value,"onUpdate:modelValue":[f[0]||(f[0]=g=>a.value=g),v],class:"mr-2 ml-1"},null,8,["modelValue"])]),_:1}),e(c,null,{default:t(()=>[e(q,{modelValue:u.value,"onUpdate:modelValue":f[1]||(f[1]=g=>u.value=g),direction:"right",class:"mr-2 ml-1"},null,8,["modelValue"])]),_:1})]),_:1}),e(c,{class:"no-wrap h-full flex-1 overflow-hidden"},{default:t(()=>[e(c,{class:"no-wrap w-full h-full flex-1 overflow-hidden pos-relative"},{default:t(()=>[e(c,{class:"table-scroll overflow-auto w-full h-full"},{default:t(()=>[e(c,{class:"w-full"},{default:t(()=>[s.value.tree?(d(),y(we,{key:0})):I("",!0),o("div",kt,[s.value.search?(d(),y(ge,{key:0})):I("",!0),s.value.button?(d(),y(he,{key:1})):I("",!0),s.value.table?(d(),y(ye,{key:2})):I("",!0)])]),_:1})]),_:1})]),_:1}),e(wt,{style:X({display:u.value?"flex":"none"})},null,8,["style"])]),_:1})],2)}}}),zt={class:"page w-full h-full"},Vt={key:1,class:"d-center tree-dot"},Ct=L({__name:"Editor",setup(b){const l=z(),n=z(!0);T(()=>{oe()});const r=a=>{ne(a)},s=a=>{n.value=a};return(a,u)=>{const v=i("el-text"),m=i("el-row"),f=i("svg-icon"),c=i("mu-tree"),g=i("el-scrollbar"),p=i("mu-dragable"),V=Q("loading");return d(),j("div",zt,[e(m,{type:"flex",class:"w-full no-wrap overflow-hidden",style:{height:"100%"}},{default:t(()=>[A(e(p,{"init-width":"200",style:{"border-right":"1px solid #999"},"min-width":160},{default:t(()=>[e(m,{align:"middle",draggable:"true",justify:"center",class:"mt-1 mb-1"},{default:t(()=>[e(v,{size:"large",align:"center"},{default:t(()=>[P("我的菜单")]),_:1})]),_:1}),e(g,null,{default:t(()=>[A((d(),y(c,{class:"erp-loading",list:_(O).menus,"element-loading-text":"加载中...","element-loading-background":"rgba(0, 0, 0, 0.3)",modelValue:l.value,"onUpdate:modelValue":u[0]||(u[0]=w=>l.value=w),onNodeMove:r},{default:t(({data:w})=>[w.children&&w.children.length>0?(d(),y(f,{key:0,class:"tree-arrow",icon:"arrow-right"})):(d(),j("div",Vt)),w.icon?(d(),y(f,{key:2,class:"nav-icon",icon:w.icon},null,8,["icon"])):I("",!0),o("span",{class:U({"tree-empty":!w.title})},R(w.title||"菜单名称"),3)]),"drag-icon":t(()=>[e(f,{class:"drag-icon",icon:"drag"})]),_:1},8,["list","modelValue"])),[[V,_(O).loadingState===_(ue).loading]])]),_:1})]),_:1},512),[[ee,n.value]]),e(jt,{onChangeSidebar:s})]),_:1})])}}}),St=L({__name:"EditorPage",setup(b){return(l,n)=>(d(),y(Ct))}});export{St as default};
